[Unit]
Description=Delphi Analysis MCP Server
After=network.target ollama.service

[Service]
Type=notify
User=hugh
Group=hugh
WorkingDirectory=/opt/sfd/DelphiAnalysisMcpServer
ExecStart=/usr/bin/dotnet /opt/sfd/DelphiAnalysisMcpServer/DelphiAnalysisMcpServer.dll 5100
Restart=always
RestartSec=10
KillSignal=SIGINT
SyslogIdentifier=delphi-analysis-mcp

# Environment
Environment=ASPNETCORE_ENVIRONMENT=Production
Environment=DOTNET_PRINT_TELEMETRY_MESSAGE=false

# Security hardening
NoNewPrivileges=true
PrivateTmp=true

[Install]
WantedBy=multi-user.target
